"use strict";
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
            t[p[i]] = s[p[i]];
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
/*
  The MIT License
  
  Copyright (c) 2018 EclipseSource Munich
  https://github.com/eclipsesource/jsonforms
  
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
*/
const React = require("react");
const ava_1 = require("ava");
const core_1 = require("@jsonforms/core");
const vanilla_renderers_1 = require("@jsonforms/vanilla-renderers");
const react_redux_1 = require("react-redux");
const TestUtils = require("react-dom/test-utils");
const redux_1 = require("redux");
const test_1 = require("@jsonforms/test");
const reducers_1 = require("../src/reducers");
const src_1 = require("../src");
exports.initJsonFormsStore = (_a) => {
    var { data, schema, uischema } = _a, props = __rest(_a, ["data", "schema", "uischema"]);
    const store = redux_1.createStore(redux_1.combineReducers({ jsonforms: core_1.jsonformsReducer({ i18n: reducers_1.i18nReducer }) }), {
        jsonforms: Object.assign({ renderers: test_1.testRenderers, transformProps: [src_1.translateProps] }, props)
    });
    store.dispatch(core_1.Actions.init(data, schema, uischema));
    return store;
};
ava_1.default.beforeEach(t => {
    t.context.data = { 'money': 123456 };
    t.context.schema = {
        type: 'object',
        properties: {
            money: { type: 'number' }
        }
    };
    t.context.uischema = {
        type: 'Control',
        scope: '#/properties/money',
        options: {
            format: true
        }
    };
    t.context.styles = [
        {
            name: 'control',
            classNames: ['control']
        },
        {
            name: 'control.validation',
            classNames: ['validation']
        }
    ];
    t.context.locale = 'en-US';
});
ava_1.default('tester', t => {
    t.is(vanilla_renderers_1.numberFormatFieldTester(undefined, undefined), -1);
    t.is(vanilla_renderers_1.numberFormatFieldTester(null, undefined), -1);
    t.is(vanilla_renderers_1.numberFormatFieldTester({ type: 'Foo' }, undefined), -1);
    t.is(vanilla_renderers_1.numberFormatFieldTester({ type: 'Control' }, undefined), -1);
});
ava_1.default('render', t => {
    const store = exports.initJsonFormsStore({
        data: { money: 123456 },
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    t.is(input.value, '123,456');
});
ava_1.default('update via input event', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    input.value = '123456.7';
    TestUtils.Simulate.change(input);
    t.is(input.value, '123,456.7');
    t.is(core_1.getData(store.getState()).money, 123456.7);
});
ava_1.default.cb('update via input event, with decimal separator and without decimal numbers', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    input.value = '123456.';
    TestUtils.Simulate.change(input);
    t.is(input.value, '123,456');
    t.is(core_1.getData(store.getState()).money, 123456);
    t.end();
});
ava_1.default.cb('update via action', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update('money', () => 1234567));
    setTimeout(() => {
        t.is(input.value, '1,234,567');
        t.is(core_1.getData(store.getState()).money, 1234567);
        t.end();
    }, 100);
});
ava_1.default.cb('update via action, with decimal separator and decimal numbers', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update('money', () => 123456.77));
    setTimeout(() => {
        t.is(core_1.getData(store.getState()).money, 123456.77);
        t.is(input.value, '123,456.77');
        t.end();
    }, 100);
});
ava_1.default('update with undefined value', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update('money', () => undefined));
    t.is(input.value, '');
});
ava_1.default('update with null value', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update('money', () => null));
    t.is(input.value, '');
});
ava_1.default('update with wrong ref', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update('balance', () => '76543.21'));
    t.is(input.value, '123,456');
});
ava_1.default('update with null ref', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update(null, () => '76543.21'));
    t.is(input.value, '123,456');
});
ava_1.default('update with undefined ref', t => {
    const store = exports.initJsonFormsStore({
        data: t.context.data,
        schema: t.context.schema,
        uischema: t.context.uischema,
        i18n: {
            locale: t.context.locale,
        }
    });
    const tree = TestUtils.renderIntoDocument(React.createElement(react_redux_1.Provider, { store: store },
        React.createElement(vanilla_renderers_1.NumberFormatField, { schema: t.context.schema, uischema: t.context.uischema })));
    const input = TestUtils.findRenderedDOMComponentWithTag(tree, 'input');
    store.dispatch(core_1.Actions.update(undefined, () => '76543.21'));
    t.is(input.value, '123,456');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTnVtYmVyRm9ybWF0RmllbGQudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Rlc3QvTnVtYmVyRm9ybWF0RmllbGQudGVzdC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUF1QkU7QUFDRiwrQkFBK0I7QUFDL0IsNkJBQXVCO0FBQ3ZCLDBDQUt5QjtBQUN6QixvRUFBMEY7QUFDMUYsNkNBQXVDO0FBQ3ZDLGtEQUFrRDtBQUNsRCxpQ0FBNEQ7QUFDNUQsMENBQWdEO0FBQ2hELDhDQUE4QztBQUM5QyxnQ0FBd0M7QUFFM0IsUUFBQSxrQkFBa0IsR0FBRyxDQUFDLEVBS0MsRUFBeUIsRUFBRTtRQUw1QixFQUNFLElBQUksRUFDSixNQUFNLEVBQ04sUUFBUSxPQUVULEVBREMsa0RBQVE7SUFHM0MsTUFBTSxLQUFLLEdBQTBCLG1CQUFXLENBQzlDLHVCQUFlLENBQUMsRUFBRSxTQUFTLEVBQUUsdUJBQWdCLENBQUMsRUFBRSxJQUFJLEVBQUUsc0JBQVcsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUN0RTtRQUNFLFNBQVMsa0JBQ1AsU0FBUyxFQUFFLG9CQUFhLEVBQ3hCLGNBQWMsRUFBRSxDQUFDLG9CQUFjLENBQUMsSUFDN0IsS0FBSyxDQUNUO0tBQ0YsQ0FDRixDQUFDO0lBRUYsS0FBSyxDQUFDLFFBQVEsQ0FBQyxjQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUVyRCxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsYUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUNsQixDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksR0FBSSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsQ0FBQztJQUN0QyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRztRQUNqQixJ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